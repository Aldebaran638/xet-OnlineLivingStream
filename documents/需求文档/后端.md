# 表的设计

## MySQL表的设计

### 数据库名称:xet_living_table

### 用户信息存储表（user）
#### 主元素表
- 用户id 主键
- 用户名 唯一
- 用户密码
- 用户邮箱
- 创建时间

### 用户-直播关联表（谁拥有哪些直播）（user-living_stream）
#### 关系表（建立元素与元素间多对多的关系）
- 用户id 外键
- 直播id 外键
- 用户id-直播id 联合主键

### 直播信息表（living_stream）
#### 主元素表
- 直播id 主键
- 创建用户id 外键 索引
- 直播id-创建用户id 联合主键
- 创建时间
- 简介
- 回放地址

### 直播评论表（live_comment）
#### 次元素表（与主元素间是一对多的关系）
- 评论id 主键
- 直播id 外键 索引
- 创建用户id 外键 索引
- 创建时间
- 内容

### 直播讲解表（live_expla）
#### 次元素表
- 评论id 主键
- 直播id 外键 索引
- 创建用户id 外键 索引
- 创建时间
- 内容

### 文件信息表（live_file）
#### 次元素表
- 文件id 主键
- 直播id 外键 索引
- 创建用户id 外键 索引
- 创建时间
- 文件地址

---

## oat++服务器接口列表

| 接口名称                     | 接口路径          | HTTP方法 | 参数值                | 返回值                                                                 |
| :--------------------------: | :---------------: | :------: | :-------------------: | :-------------------------------------------------------------------: |
| 登录检查                     | /login            | POST     | json: 用户名，密码    | success: 是否成功                                                     |
| 根据用户信息，加载相关直播id | /home/{id}        | GET      | {id}: 用户id          | success: 是否成功                                                     |
| 根据直播id，获取直播信息     | /home/living/{id} | GET      | {id}: 直播id          | 直播id（id），回放地址（addr），讲解表（explain-table），评论表信息（comment-table），文件表信息（table-file） |